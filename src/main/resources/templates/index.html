<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>Formulaire avec éditeur WYSIWYG</title>
        <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
        <link rel="stylesheet" th:href="@{/style.css}">
    </head>
    <body>
        <div id="gauche">

            <label for="fname">Nom du service (fname) :</label>
            <select id="fname" name="fname">
                <option value="" text=""></option>
                <option th:each="option : ${fnameOptions}"
                        th:value="${option}"
                        th:text="${option}">
                </option>
            </select>

            <hr class="separateur">

            <form id="createJsonForm">

                <label for="link">Lien de la vidéo :</label>
                <input type="text" id="link" name="link">

                <br><br>

                <label for="category">Catégorie principale :</label>
                <select id="category" name="category">
                    <option value="" text=""></option>
                    <option th:each="option : ${categories}"
                            th:value="${option}"
                            th:text="${option}">
                    </option>
                </select>

                <br>

                <p>Tutoriels :</p>
                <button type="button" onclick="ajouterTuto()">Ajouter un tutoriel</button>
                <button type="button" onclick="enleverDernierTuto()">Enlever le dernier tutoriel</button>
                <br><br>
                <div id="liens-container">
                </div>

                <br>

                <p>Population cible :</p>
                <div th:each="pop : ${populations}">
                    <input type="checkbox" th:id="${'population_' + pop}" th:name="population" th:value="${pop}">
                    <label th:for="${'population_' + pop}" th:text="${pop}"></label><br>
                </div>

                <br>

                <p>Contexte cible :</p>
                <div th:each="ctx : ${contexts}">
                    <input type="checkbox" th:id="${'contexte_' + ctx}" th:name="contexte" th:value="${ctx}">
                    <label th:for="${'contexte_' + ctx}" th:text="${ctx}"></label><br>
                </div>

                <br>

                <label>
                    <input type="checkbox" name="gereParEtablissement" value="true">
                    Géré par établissement ?
                </label>

                <br><br>

                <label for="description">Description :</label>
                <div id="editor"></div>
                <!-- Champ caché pour envoyer le contenu -->
                <input type="hidden" name="description" id="description">

            </form>

            <hr class="separateur">

            <div class="result">
                <p>Contenu du fichier JSON :</p>
                <textarea id="resultat" readonly></textarea>
            </div>

        </div>

        <div id="droite">

            <div class="wrapper">
                <r-service-info-layout
                        icon-url=""
                        name=""
                        origin="external"
                        category="apprentissage"
                        description=''
                        video=""
                        tutorials='[]'
                        tutorials-link='{
                            "href": "#"
                          }'
                        launch-link='{
                            "href": "#"
                          }'
                >
                </r-service-info-layout>
            </div>
        </div>

        <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
        <script th:src="@{/script.js}"></script>
        <script th:src="@{/r-service-info-layout.js}"></script>
    </body>
</html>